<!DOCTYPE html>
<html>

<head>
    <title>This is a title</title>
    <link href="https://cdn.jsdelivr.net/npm/quill@2.0.3/dist/quill.snow.css" rel="stylesheet" />
    <style>
        .ql-toolbar {
            position: sticky;
            top: 0;
            z-index: 1000;
            background: white;
        }
    </style>
</head>

<body>

    <div id="editor"></div>

    <script src="qrc:///qtwebchannel/qwebchannel.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/quill@2.0.3/dist/quill.js"></script>

    <script>

        var backend
        new QWebChannel(qt.webChannelTransport, function(channel) {
            backend = channel.objects.htmlBridge

            const quill = new Quill('#editor', {
                theme: 'snow'
            })

            backend.isEditorInitialized = true

            quill.on('text-change', (delta, oldDelta, source) => {
                backend.save(JSON.stringify(quill.getContents()))
            })

            backend.editorContentChanged.connect(function() {
                quill.setContents(JSON.parse(backend.editorContent), 'silent')
            });
        })

    </script>

</body>

</html>
